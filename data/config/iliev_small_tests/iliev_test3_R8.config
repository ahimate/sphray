!===================================================!
! This is an example configuration file for Sphray. !
!===================================================!

!=========================================================================!
! Initialization                                                          !
!=========================================================================!
! DoTestScenario     - produces test specific standard output             !
! TestScenario	     - must be one of the following: [iliev_test1,        !
!		       iliev_test2, iliev_test3, iliev_test4]             !
! JustInit	     - if true stops the code after initial readin        !
! Verbose	     - if false supresses almost all standard output      !
! JustPhoto	     - only photo ionizations are taken into account,     !
!		       (no recombinations, collisional ionizations or     !
!		       atomic cooling)                                    !
! Expanding          - if true the scale factor is used to calculate the  !
!                      physical values of variables in snapshots          !
! IsoTemp	     - All particles are kept at this temperature (K) if  !
!                      the Makefile macro incT is undefined, ignored      !
!                      otherwise                                          !
! IsoMass            - All particles are set to this mass (code units) if !
!                      the Makefile flag incmass is undefined, ignored    !
!                      otherwise                                          !
! IntSeed            - the integer seed for the Mersenne Twister random   !
!                      number generator                                   !
! StaticFieldSimTime - time to run simulation in code units on a static   ! 
!                      density field (the default time unit = 10 Myr)     !
!                      ignored if StartSnapNum/=EndSnapNum                !
!=========================================================================!

DoTestScenario: true
TestScenario: iliev_test3

JustInit: false
Verbose: true
JustPhoto: false
Expanding: false

IsoTemp: 10000.
IsoMass: 3.3235
IntSeed: 46581

StaticFieldSimTime: 1.5

!=========================================================================!
! Input (all paths are relative to the executable)                        !
!=========================================================================!
! SnapPath           - path to the particle snapshots                     !
! SourcePath         - path to the source snapshots                       !
! SpectraFile        - path to the spectra description file               !  
! b2cdFile           - path to the impact parameter to column depth	  ! 
!                      file						  !
! AtomicRatesFile    - path to the atomic rates file			  !
! ParFileBase        - base name for particle snapshots			  !
! SourceFileBase     - base name for source description files		  !
! StartSnapNum       - the snapshot number (and source file number)	  !
!                      to start on					  !
! EndSnapNum         - the snapshot number (and source file number)	  !
!                      to end on					  !
! ParFilesPerSnap    - number of files in each particle snapshot	  !
! SourceFilesPerSnap - number of files in each source snapshot		  !	   
!=========================================================================!

SnapPath:   ../../IlievSmallSnapshots
SourcePath: ../data/sources

SpectraFile: ../data/spectra/BlkBdyT1e5Bins1e3.txt
b2cdFile: ../data/column_depth/ColumnDepthTable.txt
AtomicRatesFile: ../data/atomic_rates/atomic_rates.txt

ParFileBase: test3
SourceFileBase: iliev_test3_sources

StartSnapNum: 001
EndSnapNum: 001

ParFilesPerSnap: 1
SourceFilesPerSnap: 1

!=========================================================================!
! Raytracing                                                              !
!=========================================================================!
! RayScheme       - method to use to assign rays to sources, must be one  !
!                   of the following, [header,raynum].                    !
!	            header:  use the numbers in the source snapshot       !
!                            headers to determine the number of rays to   !
!                            trace.                                       !
!                   raynum:  uses "ForcedRayNumber" rays distributed over !
!                            all the input snapshots.  The rays are       !
!                            distributed so each will have approximately  !
!                            the same energy.  The number of sources in   !
!                            each snapshot and the physical time          !
!                            represented by each snapshot determine how   !
!                            many rays will be traced in each snapshot.   !
!                                                                         !
! ForcedRayNumber - used if RayScheme="raynum" see above                  !
! BndryCond       - sets the boundry condition for rays reaching the edge !
!                   of the box 0 -> vaccuum, 1 -> periodic.  Note this    !
!                   also sets the boundry conditions for the particles.   !
! OnTheSpot       - if true SPHRAY uses the On The Spot approximation.    !
!                   Recombination rays will not be traced and case B      !
!                   recombination rates will be used                      !
! Tfloor          - temperature prevented from going below this value (K) ! 
! Tceiling        - temperature prevented from going above this value (K) !
! RecRayTol       - the recombination fraction of a species must be above !
!                   this threshold for a recombination ray to be traced   !
! RayPhotonTol    - A photon packet is not tracked after                  !
!                   PhotonsNow / PhotonsStart < RayPhotonTol              !
! NeBackGround    - constant physical number density of free electrons    !
!                   from ionized metals ( > 0.0 and in cm^-3 )            !
! UpdateAllRays   - Every <UpdateAllRays>, every particle that has not    !
!                   been hit by a ray in the last <UpdateAllRays> is      !
!                   updated assuming zero photon flux                     !
!=========================================================================!

RayScheme: raynum
ForcedRayNumber: 1.e8
BndryCond: 0
OnTheSpot: true
Tfloor: 1.0E+0
Tceiling: 1.0E+9
RecRayTol: 3.0E-1
RayPhotonTol: 1.0E-10
NeBackGround: 1.0E-8
UpdateAllRays: 1000000

!=========================================================================!
! Gas Composition                                                         !
!=========================================================================!
! H_mf  - the hydrogen mass fraction of the gas in the simulation         !
! He_mf - the helium mass fraction of the gas in the simulation           !
!=========================================================================!

H_mf: 1.0d0
He_mf: 0.0d0

!=========================================================================!
! Output (paths are relative to the executable)                           !
!=========================================================================!
! OutputDir      - path to the output directory                           !
! OutputFileBase - base name for output files           		  !
! OutputType     - choose one [standard,forced]                           !
! NumStdOuts     - number of standard outputs (equally spaced in time)    ! 
! IonFracOutRays - every <IonFracOutRays> traced the code will make a     !
!                  mini output to the standard device                     !
! ForcedOutFile  - path to the forced output times file.  The output      !
!                  times should be in <ForcedUnits>                       !
! ForcedUnits    - choose one [codetime]                                  !
!=========================================================================!

OutputDir: ./
OutputFileBase: T3-R8
OutputType: forced
NumStdOuts: 1
IonFracOutRays: 500000
ForcedOutFile: ../data/output_times/iliev_test3_output_times.txt
ForcedUnits: codetime

!=========================================================================!
! SPH                                                                     !
!=========================================================================!
! PartPerCell   - minimum particles in a cell to stop tree refinement.    !
!                 Determines courseness of the tree                       !
! NsphNnb       - Number of SPH neighbors used to calculate the smoothing !
!                 lengths                                                 !
!=========================================================================!

PartPerCell: 12
NsphNnb: 32







